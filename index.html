<html>

<head>
    <title>test</title>
    <script type="text/javascript" src="https://h5.cyol.com/special/daxuexi/js/jquery.js" charset="gb2312"></script>
    <script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
</head>

<body>
    <button id="btn">按钮</button>
</body>
<script>
    
      // 分享简介
      document.getElementById("btn").onclick = ()=>{
        var shareTitle = '“青年大学习”2022年第21期';
        var shareDesc = '向我国老一辈杰出科学家学习';
        var localUrl = window.location.href.split('#')[0];
        var shareUrl = 'http://dxx.cyol.net/special/daxuexi/dr9ja2jkc6/m.html';
        var shareImg = 'https://h5.cyol.com/special/daxuexi/dr9ja2jkc6/images/icon.jpg';

            var json = {"appId":"wx30b9bfd6e0063ff9","ticket":"sM4AOVdWfPE4DxkXGEs8VI7tIcKzy9vitfIiocWQa9Zlcax5Wdc8GXpt8ZhIUFaCGSZSfOj1YcMNRo0cnchtUA","noncestr":"sL42WYFHx8xjc9rN","timestamp":"1664724001","url":"https:\/\/h5.cyol.com\/special\/daxuexi\/dr9ja2jkc6\/m.html","signature":"54c6e0d26247d6a323dfe9bbd7a827733817914a","rawString":"jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VI7tIcKzy9vitfIiocWQa9Zlcax5Wdc8GXpt8ZhIUFaCGSZSfOj1YcMNRo0cnchtUA&noncestr=sL42WYFHx8xjc9rN&timestamp=1664724001&url=https:\/\/h5.cyol.com\/special\/daxuexi\/dr9ja2jkc6\/m.html"};
            var title =
            wx.config({
                debug: false,
                appId: 'wx30b9bfd6e0063ff9',
                timestamp: json.timestamp,
                nonceStr: json.noncestr,
                signature: json.signature,
                jsApiList: ['onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareTimeline', 'onMenuShareWeibo', 'onMenuShareQZone']
            });
            wx.ready(function(){
              wx.onMenuShareAppMessage({
                title: shareTitle,
                desc: shareDesc,
                link: shareUrl,
                imgUrl: shareImg,
                type: 'link',
                dataUrl: '',
                success: function(){},
                cancel: function(){}
              });
              wx.onMenuShareTimeline({
                title: shareTitle,
                desc: shareDesc,
                link: shareUrl,
                imgUrl: shareImg,
                success: function(){},
                cancel: function(){}
              });
            });
      
      };
    
</script>

</html>
